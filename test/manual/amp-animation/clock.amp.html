<!doctype html>
<html âš¡>

<head>
  <meta charset="utf-8">
  <title>Scroll-bound Animations in AMP</title>
  <link rel="canonical" href="http://nonblocking.io/">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-network-fake-impl-0.1.js"></script>
  <script async custom-element="amp-animation" src="https://cdn.ampproject.org/v0/amp-animation-0.1.js"></script>
  <style amp-custom>
    amp-img img {
      object-fit: cover;
    }

    .clock-hand {
      position: absolute;
      width: 2vw;
      height: 20vw;
      top: 50%;
      left: 50%;
      z-index: 2;
      background: #FAFAFA;
      transform-origin: 50% 0%;
      border-radius: 10px;
      transform: rotate(-180deg)
    }
  </style>
</head>
<body>
  <amp-animation scene-selector="#clock-scene-2" layout="nodisplay" trigger="visibility">
    <script type="application/json">
    {
      "ticker": "scroll",
      "fill": "both",
      "direction": "alternate",
      "animations": [
        {
          "selector": "#clock-scene-2 .clock-hand",
          "keyframes": [
            { "transform": "rotate(-180deg)" },
            { "transform": "rotate(0deg)" }
          ]
        }
      ]
    }
    </script>
  </amp-animation>
  <button onclick="window.AMP.toggleExperiment('amp-animation', true);">Enable amp-animation experiment</button>
  <p>
    Sed pharetra semper fringilla. Nulla fringilla, neque eget varius suscipit, mi turpis congue odio, quis dignissim nisi nulla
    at erat. Duis non nibh vel erat vehicula hendrerit eget vel velit. Donec congue augue magna, nec eleifend dui porttitor
    sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus. Ut elementum mi eget felis ultrices tempus. Maecenas
    nec sodales ex. Phasellus ultrices, purus non egestas ullamcorper, felis lorem ultrices nibh, in tristique mauris justo
    sed ante. Nunc commodo purus feugiat metus bibendum consequat. Duis finibus urna ut ligula auctor, sed vehicula ex aliquam.
    Sed sed augue auctor, porta turpis ultrices, cursus diam. In venenatis aliquet porta. Sed volutpat fermentum quam, ac
    molestie nulla porttitor ac. Donec porta risus ut enim pellentesque, id placerat elit ornare.
  </p>
  <p>
    Sed pharetra semper fringilla. Nulla fringilla, neque eget varius suscipit, mi turpis congue odio, quis dignissim nisi nulla
    at erat. Duis non nibh vel erat vehicula hendrerit eget vel velit. Donec congue augue magna, nec eleifend dui porttitor
    sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus. Ut elementum mi eget felis ultrices tempus. Maecenas
    nec sodales ex. Phasellus ultrices, purus non egestas ullamcorper, felis lorem ultrices nibh, in tristique mauris justo
    sed ante. Nunc commodo purus feugiat metus bibendum consequat. Duis finibus urna ut ligula auctor, sed vehicula ex aliquam.
    Sed sed augue auctor, porta turpis ultrices, cursus diam. In venenatis aliquet porta. Sed volutpat fermentum quam, ac
    molestie nulla porttitor ac. Donec porta risus ut enim pellentesque, id placerat elit ornare.
  </p>
  <h2>Scrollbound - Clock Scene - Parent of amp-animation defines scene</h2>
  <div id="clock-scene-1" class="clock-scene">
    <amp-animation layout="nodisplay" trigger="visibility">
      <script type="application/json">
      {
        "ticker": "scroll",
        "fill": "both",
        "direction": "alternate",
        "animations": [
          {
            "selector": "#clock-scene-1 .clock-hand",
            "keyframes": [
              { "transform": "rotate(-180deg)" },
              { "transform": "rotate(0deg)" }
            ]
          }
        ]
      }
      </script>
    </amp-animation>

    <amp-img layout="responsive" width=2 height=1.5 src="./assets/clock.jpg">
      <div class="clock-hand"></div>
    </amp-img>
  </div>
  <!--End Clock Scene-->
  <p>
    Sed pharetra semper fringilla. Nulla fringilla, neque eget varius suscipit, mi turpis congue odio, quis dignissim nisi nulla
    at erat. Duis non nibh vel erat vehicula hendrerit eget vel velit. Donec congue augue magna, nec eleifend dui porttitor
    sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus. Ut elementum mi eget felis ultrices tempus. Maecenas
    nec sodales ex. Phasellus ultrices, purus non egestas ullamcorper, felis lorem ultrices nibh, in tristique mauris justo
    sed ante. Nunc commodo purus feugiat metus bibendum consequat. Duis finibus urna ut ligula auctor, sed vehicula ex aliquam.
    Sed sed augue auctor, porta turpis ultrices, cursus diam. In venenatis aliquet porta. Sed volutpat fermentum quam, ac
    molestie nulla porttitor ac. Donec porta risus ut enim pellentesque, id placerat elit ornare.
  </p>
  <h2>Scrollbound - Clock Scene - scene-selector defines scene</h2>
  <div id="clock-scene-2" class="clock-scene">
    <amp-img layout="responsive" width=2 height=1.5 src="./assets/clock.jpg">
      <div class="clock-hand"></div>
    </amp-img>
  </div>
  <!--End Clock Scene-->
  <p>
    Sed pharetra semper fringilla. Nulla fringilla, neque eget varius suscipit, mi turpis congue odio, quis dignissim nisi nulla
    at erat. Duis non nibh vel erat vehicula hendrerit eget vel velit. Donec congue augue magna, nec eleifend dui porttitor
    sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus. Ut elementum mi eget felis ultrices tempus. Maecenas
    nec sodales ex. Phasellus ultrices, purus non egestas ullamcorper, felis lorem ultrices nibh, in tristique mauris justo
    sed ante. Nunc commodo purus feugiat metus bibendum consequat. Duis finibus urna ut ligula auctor, sed vehicula ex aliquam.
    Sed sed augue auctor, porta turpis ultrices, cursus diam. In venenatis aliquet porta. Sed volutpat fermentum quam, ac
    molestie nulla porttitor ac. Donec porta risus ut enim pellentesque, id placerat elit ornare.
  </p>
  <h2>Timebound - Clock Scene - Default visibility conditons</h2>
  <div id="clock-scene-3" class="clock-scene">
    <amp-animation layout="nodisplay" trigger="visibility">
      <script type="application/json">
      {
        "fill": "both",
        "duration": "30s",
        "direction": "alternate",
        "animations": [
          {
            "selector": "#clock-scene-3 .clock-hand",
            "keyframes": [
              { "transform": "rotate(-180deg)" },
              { "transform": "rotate(0deg)" }
            ]
          }
        ]
      }
      </script>
    </amp-animation>

    <amp-img layout="responsive" width=2 height=1.5 src="./assets/clock.jpg">
      <div class="clock-hand"></div>
    </amp-img>
  </div>
  <!--End Clock Scene-->
  <p>
    Sed pharetra semper fringilla. Nulla fringilla, neque eget varius suscipit, mi turpis congue odio, quis dignissim nisi nulla
    at erat. Duis non nibh vel erat vehicula hendrerit eget vel velit. Donec congue augue magna, nec eleifend dui porttitor
    sed. Cras orci quam, dignissim nec elementum ac, bibendum et purus. Ut elementum mi eget felis ultrices tempus. Maecenas
    nec sodales ex. Phasellus ultrices, purus non egestas ullamcorper, felis lorem ultrices nibh, in tristique mauris justo
    sed ante. Nunc commodo purus feugiat metus bibendum consequat. Duis finibus urna ut ligula auctor, sed vehicula ex aliquam.
    Sed sed augue auctor, porta turpis ultrices, cursus diam. In venenatis aliquet porta. Sed volutpat fermentum quam, ac
    molestie nulla porttitor ac. Donec porta risus ut enim pellentesque, id placerat elit ornare.
  </p>
</body>